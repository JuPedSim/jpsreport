<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Jun Zhang">
        <link rel="canonical" href="http://jupedsim.github.io/jpsreport/inputs/inifile/">
        <link rel="shortcut icon" href="../../favicon.icon">
        

	<title>Configuration File - JuPedSim/jpsreport</title>

        <link href="../../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">JuPedSim/jpsreport</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Running <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../running/Introduction/">Introduction</a>
                        </li>
                    
                        <li >
                            <a href="../../running/get_start/">Getting started</a>
                        </li>
                    
                        <li >
                            <a href="../../running/runJPSreport/">Running JPSreport</a>
                        </li>
                    
                        <li >
                            <a href="../../running/user_support/">User Support</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Input Files <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../geometry/">Geometry File</a>
                        </li>
                    
                        <li >
                            <a href="../trajectory/">Trajectory File</a>
                        </li>
                    
                        <li class="active">
                            <a href="./">Configuration File</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Methods and Output <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../methods/method_A/">Method A</a>
                        </li>
                    
                        <li >
                            <a href="../../methods/method_B/">Method B</a>
                        </li>
                    
                        <li >
                            <a href="../../methods/method_C/">Method C</a>
                        </li>
                    
                        <li >
                            <a href="../../methods/method_D/">Method D</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Sample cases <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../samples/get_fundamental_diagram/">How to get fundamental diagram</a>
                        </li>
                    
                        <li >
                            <a href="../../samples/get_profile/">How to get profiles</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contributing <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../contributing/code-Style-Conventions/">Code Style</a>
                        </li>
                    
                        <li >
                            <a href="../../contributing/workflow/">Workflow</a>
                        </li>
                    
                        <li >
                            <a href="../../contributing/utest/">Unit testing</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li >
                    <a rel="next" href="../trajectory/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../../methods/method_A/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/JuPedSim/jpsreport">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#configuration-file">Configuration file</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h2 id="configuration-file"><a class="toclink" href="#configuration-file">Configuration file</a></h2>
<p>Users can find template file in the folder &ldquo;demos/xx/&rdquo; with name of &ldquo;ini*&rdquo; when you download <strong>JPSreport</strong>. To run <strong>JPSreport</strong> the only thing you need do is to copy a sample file and change the parameters in the file based your own situation.</p>
<p>In the configuration file, the following five parts are set:</p>
<ul>
<li>
<p><strong>Header</strong> is as below:</p>
<pre><code>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;JPSreport project="JPS-Project" version="0.6" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://xsd.jupedsim.org/0.6/jps_report.xsd"&gt;
</code></pre>
</li>
<li>
<p><strong>geometry</strong> indicates the file name  corresponding to the trajectory files you will analyze. <code>Note that</code> the file should be in the same location with the configuration file.</p>
<pre><code>&lt;geometry file = "geo_KO_240_050_240.xml" /&gt;
</code></pre>
</li>
<li>
<p><strong>trajectories</strong> indicates the location and the name of the trajectory files will be analyzed. The format of trajectory should be <code>.txt</code> or <code>.xml</code>. The supported unit of the trajectories now is <code>m</code>. Two other sub-options <code>file</code> and <code>path</code> can be supplied. If only <code>path</code> is given, then all files with the corresponding format in the given folder will be regarded as the upcoming trajectories and <strong>JPSreport</strong> will try to load them one by one. If both <code>file</code> and <code>path</code> are given, then only the given trajectories will be considered (several <code>file</code> can be given at the same time). The location can be either absolute path or relative path to the location of the inifile. A path is considered absolute if it starts with ”/” (Linux system) or contains ”:” (Windows system).</p>
<pre><code>&lt;trajectories format="txt" unit="m"&gt;
    &lt;file name="traj_KO_240_050_240.txt" /&gt;
    &lt;file name="traj_KO_240_060_240.txt" /&gt;
    &lt;path location="./" /&gt;  
&lt;/trajectories&gt;
</code></pre>
</li>
<li>
<p><strong>scripts</strong> gives relative path based on the location of inifile or the absolute path.</p>
<pre><code>&lt;scripts location="../../scripts/"/&gt;
</code></pre>
</li>
<li>
<p><strong>measurement_areas</strong> indicates the types and location of the measurement areas you plan to use for analysis. Mainly Two kind of measurement areas can be exist here. <code>area_B</code> is 2D area and can be polygon (all the vertexes of the polygon should be given in clockwise), while <code>area_L</code> is a reference line indicating with two points.  <code>area_L</code> is only used in &lsquo;method_A&rsquo; and <code>area_B</code> are used for &lsquo;method_B, method_C and method_D&rsquo;. Several measurement areas can be given and distiguished with different <code>id</code>. Note that the option <code>length_in_movement_direction</code> is only used in &lsquo;method_B&rsquo; and the value will be ignored in other methods. The parameter <code>zPos</code> is used to indicate the position of measuement area in z axis. <code>zPos</code> is useful for geometry with several stories. </p>
<pre><code>&lt;measurement_areas unit="m"&gt;
    &lt;area_B id="1" type="BoundingBox" zPos="None"&gt;
        &lt;vertex x="-2.40" y="1.00" /&gt; &lt;!-- Clockwise --&gt;
        &lt;vertex x="-2.40" y="3.00" /&gt;
        &lt;vertex x="0" y="3.00" /&gt;
        &lt;vertex x="0" y="1.00" /&gt;
        &lt;length_in_movement_direction distance="2.0" /&gt;
    &lt;/area_B&gt;
    &lt;area_L id="2" type="Line" zPos="None"&gt;
        &lt;start x="-2.40" y="1.00" /&gt;
        &lt;end x="0" y="1.00" /&gt;
    &lt;/area_L&gt;
    &lt;area_L id="3" type="Line" zPos="None"&gt;
        &lt;start x="-2.40" y="2.00" /&gt;
        &lt;end x="0" y="2.00" /&gt;
    &lt;/area_L&gt;
&lt;/measurement_areas&gt;
</code></pre>
</li>
<li>
<p><strong>velocity</strong> indicates the way for calculating instantaneous velocity <em>v_i(t)</em> of pedestrian <em>i</em> at time <em>t</em> from trajectories. In the tool, <em>v_i(t) = (X(t+frame_step/2) - X(t-frame_step/2))/frame_step</em>. X is location. <code>&lt;use_x_component&gt;</code> and <code>&lt;use_x_component&gt;</code> indicates coordinates will be used in the calculation. When both <code>&lt;use_x_component&gt;</code> and <code>&lt;use_x_component&gt;</code> are set as &ldquo;true&rdquo;, <em>x</em> and <em>y</em> coordinates will be used. Otherwise, only coordinates in x or y direction will be used. Note that at least one of the above variables should be &ldquo;true&rdquo;. <code>frame_step</code> gives the size of time interval for calculating the velocity.</p>
<pre><code>&lt;velocity&gt;
    &lt;use_x_component&gt;true&lt;/use_x_component&gt;
    &lt;use_y_component&gt;true&lt;/use_y_component&gt;
    &lt;frame_step&gt;10&lt;/frame_step&gt;
&lt;/velocity&gt;
</code></pre>
<ul>
<li>
<p><strong>methods</strong> indicates the parameters related to each measurement method. Four different meathods <code>method_A</code> to <code>method_D</code> are integrated in current version of <strong>JPSreport</strong> and can chosen in your analysis. Further information relating to each method can be found in <a href="http://hdl.handle.net/2128/4898">Pedestrian fundamental diagrams: Comparative analysis of experiments in different geometries</a>. The meaning of each parameters can be found <a href="../measurement_methods">Measurement methods</a>.   </p>
</li>
<li>
<p><strong>Method A</strong></p>
<pre><code>&lt;method_A enabled="true"&gt;
    &lt;measurement_area id="2" frame_interval="100" plot_time_series="true"/&gt;
    &lt;measurement_area id="3" frame_interval="100" plot_time_series="true"/&gt;
&lt;/method_A&gt;
</code></pre>
<ul>
<li>
<p>Parameters:</p>
<p>a) <code>id</code> specifies the location of the reference line. several measurement areas can be set in one inifile with different id.</p>
<p>b) <code>frame_interval</code> specifies the size of time interval (in <em>frame</em>) for calculating flow rate.</p>
<p>c) <code>plot_time_series</code> specifies whether output the N-t Diagram.</p>
</li>
<li>
<p>Output data (in the folder: &lsquo;./Output/Fundamental_Diagram/FlowVelocity/&rsquo;) See <code>Example-Method-A</code>:</p>
<p>File1: data for plotting N-t Diagram. (the accumlative nnumber of pedestrians passing the reference line and the corresponding time) </p>
<p>File2: The mean flow and velocity over the given time interval.</p>
<p><img src="../img/Figue4-1.png" width="917" height="781"/>
Figure-Example-Method-A</p>
</li>
</ul>
</li>
<li>
<p><strong>Method B</strong></p>
<pre><code>&lt;method_B enabled="false"&gt;
    &lt;measurement_area id="1" /&gt;
&lt;/method_B&gt;
</code></pre>
<p><strong>Method B</strong> can only be used to analyse one directional (or part of one directional) pedestrian movement in corridor. The speed is definded by the length of the measurement area <code>length_in_movement_direction</code> and the time a pedestrian stay in the area.</p>
<ul>
<li>
<p>Parameters:</p>
<p>a) <code>measurement_area</code> given by id. Note that the measurement area for method_B should be rectangle based on the definition of the method. </p>
</li>
<li>
<p>Output data: </p>
<p>mean density and velocity of each pedestrian (<script type="math/tex">rho_i</script> and <script type="math/tex">v_i</script>).</p>
<p><img src="../img/Figue4-2.png" width="941" height="434"/>
Figure-Example-Method-B</p>
</li>
</ul>
</li>
<li>
<p><strong>Method C</strong>&ndash;Classical method</p>
<pre><code>&lt;method_C enabled="true"&gt;
    &lt;measurement_area id="1" plot_time_series="false"/&gt;
&lt;/method_C&gt;
</code></pre>
<ul>
<li>
<p>Parameters:</p>
<p>a) <code>id</code> indicates the size and location of the measurement_area. Several measurement areas can be set in one inifile.</p>
<p>b) <code>plot_time_series</code> specifies whether output the rho-t and v-t Diagram.</p>
</li>
<li>
<p>Output data: </p>
<p>mean density and velocity of over time (<script type="math/tex">rho(t)</script> and <script type="math/tex">v(t)</script>).</p>
<p><img src="../img/Figue4-3.png" width="988" height="858"/>
Figure-Example-Method-C</p>
</li>
</ul>
</li>
<li>
<p><strong>Method D</strong>&ndash;Voronoi method</p>
<pre><code>&lt;method_D enabled="true"&gt; 
    &lt;measurement_area id="1" start_frame="None", stop_frame="None" plot_time_series="false" get_individual_FD="false"/&gt; 
    &lt;one_dimensional enabled="false"/&gt;
    &lt;cut_by_circle enabled="false" radius="1.0" edges="10"/&gt;
    &lt;output_voronoi_cells enabled="false" plot_graphs="false"/&gt;
    &lt;profiles enabled="false" grid_size_x="0.20" grid_size_y="0.20"/&gt; 
&lt;/method_D&gt;
</code></pre>
<ul>
<li>
<p>Parameters:</p>
<p>a) For each <code>measurement_area</code>, its id should be given and several ids can be set in one inifile.  <code>start_frame</code> and <code>stop_frame</code> give the starting and ending frame for data analysis. <code>plot_time_series</code> specifies whether output the rho-t and v-t Diagram. <code>get_individual_FD</code> determines whether or not to output the data for individual fundamental diagram in the given measurement area, which is based on the Voronoi density <script type="math/tex">rho_i</script> and velocity <script type="math/tex">v_i</script> of each pedestrian <script type="math/tex">i</script> in a given measurement area but not mean value over space. If true, the related data will be written in the folder <em>./Output/Fundamental_Diagram/IndividualFD/</em></p>
<p><img src="../img/Figue4-4-4.png" width="822" height="750"/></p>
<p>c) <code>one_dimensional</code> should be used when pedestrians move on a line (for example, trajectories from <a href="http://www.asim.uni-wuppertal.de/datenbank/own-experiments/corridor/1d-single-file-no-2.html">single-file experiment</a>)</p>
<p><img src="../img/Figue4-4-1.png" width="852" height="651"/></p>
<p>d) <code>cut_by_circle</code> determines whether to cut each cell by circle or not. Two options <code>radius</code> of the circle and the number of <code>edges</code> have to be supplied for approximating the circle if <code>enabled</code> is <em>true</em>.</p>
<p>e) <code>output_voronoi_cells</code> specifies whether or not to output data for visualizing the Voronoi diagram. Two options <code>enabled</code> and <code>plot_graphs</code> have to be set. If both of them are <em>true</em>, files including Voronoi cells, speed and the coordinates of pedestrian corresponding to each cell as well as the figures of Voronoi cells will be created in the folder <em>./Output/Fundamental_Diagram/Classical_Voronoi/VoronoiCell/</em>. If the latter is <em>false</em>, only the datas will be created but the figures will not be plotted. When <code>enable</code> is <em>false</em>, nothing will be created.</p>
<p><img src="../img/Figue4-4-2.png" width="653" height="495"/></p>
<p>f) <code>profiles</code> indicates whether to calculate the profiles over time and space. If <code>enabled</code> is true, the resolution which is decided by the parameters <code>grid_size_x</code> and <code>grid_size_x</code> should be set. The data will be in the folder +./Output/Fundamental_ Diagram/Classical_Voronoi/field/.</p>
<p><img src="../img/Figue4-4-3.png" width="935" height="325"/></p>
</li>
<li>
<p>Output data:</p>
<p>Mean density and velocity over time (rho(t) and v(t)).</p>
<p>Sample data for plotting the Voronoi cells. </p>
<p>Data for plotting profiles. </p>
<p>Data of individual Fundamental diagram.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul></div>
        </div>

	<footer class="col-md-12">
		<hr>
		
		<p>Copyright &copy; 2016 <a href="http://www.fz-juelich.de">Forschungszentrum Jülich GmbH</a>. Maintenance by <a href="http://www.fz-juelich.de/SharedDocs/Personen/IAS/JSC/EN/staff/zhang_ju.html/">Jun Zhang</a>.</p>
		
		<p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
	</footer>


        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script src="../../js/base.js"></script>
        <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </body>
</html>